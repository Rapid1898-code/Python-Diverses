import time
import os
import requests
import re
from selenium import webdriver
from bs4 import BeautifulSoup

# https://www.gurufocus.com/term/ev/BAYZF/Enterprise-Value/Bayer-AG
# https://www.gurufocus.com/term/ev/AAPL/Enterprise-Value/Apple
#[['AES', 'The AES Corp'], ['AMT', 'TD Ameritrade Holding Corp'], ['AN', 'Societe d′Edition de Canal Plus'], ['AUTO', 'VA Automotive i Hassleholm AB'], ['BAC', 'Verizon Communications Inc'], ['BXS', 'Solera Holdings Inc'], ['CASH', 'Prosegur Cash SA'], ['CASS', 'SocietÃ\xa0 Cattolica di Assicurazione - SocietÃ\xa0 Coo'], ['CLV', 'Trip.com Group Ltd'], ['COLB', 'Rue Colonel Bourg (unit)'], ['CRM', 'PZ CORMAY SA'], ['CVU', 'United Breweries Co Inc'], ['DDD', '3D Systems Corp'], ['DG', 'Vinci SA'], ['DIS', 'The Walt Disney Co'], ['DRI', '1&1 Drillisch AG'], ['DSX', 'PT Dian Swastatika Sentosa Tbk'], ['EC', 'Total Gabon'], ['EL', 'Societatea Energetica Electrica SA'], ['FLY', 'Societe Fonciere Lyonnaise SA'], ['FR', 'Valeo SA'], ['FTI', 'TechnipFMC PLC'], ['GEF', 'Sogefi SpA'], ['GPS', 'Rare Earth Magnesium Technology Group Holdings Ltd'], ['GRA', 'W R Grace & Co'], ['GTT', 'Tegna Inc'], ['GWW', 'W.W. Grainger Inc'], ['HD', 'The Home Depot Inc'], ['HSY', 'The Hershey Co'], ['IAG', 'Satis Group SA'], ['IFF', 'Promociones Renta y Mantenimiento Socimi SA'], ['IPG', 'The Interpublic Group of Companies Inc'], ['JOE', 'The St. Joe Co'], ['KMB', 'SK Telecom Co Ltd'], ['LXU', 'Tongaat Hulett Ltd'], ['MMM', '3M Co'], ['MTB', 'Swarco Traffic Holding AG'], ['NEN', 'Renesas Electronics Corp'], ['NTR', 'Spectrum Pharmaceuticals Inc'], ['NWN', 'Vanadiumcorp Resource Inc'], ['PB', 'PromikBook AB'], ['PFS', 'PTC India Financial Services Ltd'], ['PG', 'Procter & Gamble Co'], ['PGR', 'Progress Software Corp'], ['PHI', 'Royal Philips NV'], ['PMD', 'Zaklady Chemiczne Permedia S.A.'], ['PNC', 'Pritish Nandy Communications Ltd'], ['PPC', 'Public Power Corp SA'], ['PPL', 'Prodplast SA'], ['PPY', 'Prosperity Bancshares Inc'], ['PRGS', 'Progres a.d'], ['PRK', 'ProAssurance Corp'], ['PRO', 'Proton Bank/R'], ['PRU', 'Prudential PLC'], ['PSB', 'PSB Industries SA'], ['PTC', 'PTC India Ltd'], ['PTR', 'Rompetrol Well Services SA'], ['PVH', 'PVH Corp'], ['PYX', 'Schroders PLC'], ['QCOM', 'Qualcomm Inc'], ['QGEN', 'Qiagen NV'], ['RAD', 'Radici Pietro Industries & Brands SpA'], ['RAIL', 'Railcare Group AB'], ['RAVN', 'Raven Property Group Ltd'], ['RBC', 'Rubicon Partners Spolka Akcyjna'], ['RCL', 'Royal Caribbean Cruises Ltd'], ['RDN', 'Randstad NV'], ['REG', 'Regnon SA'], ['REGN', 'Regeneron Pharmaceuticals Inc'], ['RES', 'Resbud SA'], ['REV', 'Revitum SA'], ['RHI', 'Red Hat Inc'], ['RIO', 'Rio Tinto Ltd'], ['RJF', 'Raymond James Financial Inc'], ['RLI', 'Reliance Industries Ltd'], ['RMBS', 'Rambus Inc'], ['RMD', 'Reno de Medici SPA'], ['ROG', 'Roche Holding AG'], ['ROL', 'Rolandos Enterp'], ['ROP', 'Roper Technologies Inc'], ['ROST', 'ROSINTER RESTAURANTS HOLDING PJSC'], ['RRC', 'Regency Centers Corp'], ['RTX', 'Raytheon Technologies Corp'], ['RY', 'Royal Bank of Canada'], ['SAFT', 'Saft Groupe SA'], ['SAL', 'Salamis Tours O'], ['SALM', 'SalMar ASA'], ['SAN', 'Sanofi SA'], ['SAND', 'Sandvik AB'], ['SAP', 'SAP SE'], ['SAR', 'Sauer-Danfoss, Inc.'], ['SATS', 'SATS ASA'], ['SBH', 'Sangui Biotech International Inc'], ['SBS', 'Scandinavian Brake Systems A/S'], ['SBUX', 'Starbucks Corp'], ['SCHN', 'Schindler Holding AG'], ['SCI', 'SCI AG'], ['SCL', 'Schlumberger Ltd'], ['SCS', 'SDC - Investimentos SGPS SA'], ['SCT', 'SSE PLC'], ['SDM', 'Sponda Oyj'], ['SEE', 'Sears Holdings Corp'], ['SEM', 'Semapa SA'], ['SF', 'Stillfront Group AB'], ['SFL', 'Safilo Group SpA'], ['SGB', 'Schlossgartenbau AG'], ['SGC', 'SG Co SpA'], ['SGU', 'Sino-German United AG'], ['SHG', 'Starhedge SA'], ['SHI', 'Sinopec Shanghai Petrochemical Co Ltd'], ['SID', 'State Bank of India'], ['SIF', 'Silkeborg IF Invest A/S'], ['SIM', 'SimCorp A/S'], ['SIRI', 'Sirius XM Holdings Inc'], ['SJI', 'SpareBank 1 SMN'], ['SJM', 'Steven Madden Ltd'], ['SJR', 'Superior Energy Services Inc'], ['SKM', 'SKY Perfect JSAT Corp'], ['SKT', 'Skotan SA'], ['SKX', 'Skylark Holdings Co Ltd'], ['SLB', 'Schlumberger Ltd'], ['SLZ', 'SLEEPZ AG'], ['SMG', 'Shortcut Media AB'], ['SNA', 'Snaitech SpA'], ['SNE', 'Schneider Electric SE'], ['SNN', 'Societatea Nationala Nuclearelectrica SA'], ['SNPS', 'Sintal Agriculture Public Ltd.'], ['SNX', 'Stein Mart Inc'], ['SNY', 'Scripps Networks Interactive Inc'], ['SO', 'Sogefi SpA'], ['SOL', 'SOL SpA'], ['SON', 'Sonae SGPS SA'], ['SONA', 'Sony Corp'], ['SOU', 'Singapore Exchange Ltd'], ['SPC', 'Sapient Corp'], ['SPG', 'SP Group A/S'], ['SPGI', 'S&P Global Inc'], ['SPH', 'Sinclair Pharma PLC'], ['SPR', 'Spyrosoft SA'], ['SPWR', 'SunPower Corp'], ['SR', 'SNS REAAL NV'], ['SRI', 'Servizi Italia SpA'], ['SRU', 'Standard Motor Products Inc'], ['SSB', 'Screen Service'], ['SSD', 'Sniace'], ['SSL', 'Societa Sportiva Lazio SPA'], ['STE', 'Steilmann SE'], ['STL', 'Stelmet SA'], ['STM', 'Stabilus SA'], ['STX', 'Seagate Technology PLC'], ['STZ', 'Sinteza SA'], ['SU', 'Schneider Electric SE'], ['SUI', 'Sekisui Chemical Co Ltd'], ['SVC', 'Service Corp International'], ['SVM', 'Silvercorp Metals Inc'], ['SWK', 'Stanley Black & Decker Inc'], ['SWKS', 'Skyworks Solutions Inc'], ['SWM', 'Swedish Match AB'], ['SWN', 'Southwest Airlines Co'], ['SWP', 'Sword Group'], ['SWX', 'Stewart Enterprises, Inc.'], ['SYK', 'Stryker Corp'], ['SYX', 'Speedway Motorsports Inc'], ['SYY', 'Sysco Corp'], ['TAK', 'Tap Oil Ltd'], ['TCO', 'Tesco PLC'], ['TCX', 'Tubacex SA'], ['TDC', 'TAC Co Ltd'], ['TDG', 'TransDigm Group Inc'], ['TECH', 'Techstep ASA'], ['TEF', 'Telefonica SA'], ['TEL', 'Telenor ASA'], ['TEO', 'Telecom Argentina SA'], ['TER', 'TerniEnergia SpA'], ['TESS', 'Tessenderlo Chemie NV'], ['TEVA', 'Teva Pharmaceutical Industries Ltd'], ['TGA', 'TSB Banking Group PLC'], ['TGC', 'TGS-NOPEC Geophysical Co ASA'], ['TGI', 'Tetra Technologies Inc'], ['TGNA', 'Transgene SA'], ['TGS', 'TGS-NOPEC Geophysical Co ASA'], ['TGT', '11 88 0 Solutions AG'], ['THO', 'Tahoe Resources Inc'], ['THS', 'TheStreet Inc'], ['TIF', 'Tiffany & Co'], ['TJX', 'TJX Companies Inc'], ['TKR', 'thyssenkrupp AG'], ['TLK', 'Toll Brothers Inc'], ['TM', 'TM hf'], ['TMO', 'TomTom NV'], ['TMP', 'Telemedycyna Polska SA'], ['TMUS', 'T-Mobile US Inc'], ['TOL', 'Tokyu Land Corp'], ['TOT', 'Total SA'], ['TPL', 'Teleplan International NV'], ['TPR', 'Trophy Holding Nyrt'], ['TPX', 'Toppan Printing Co Ltd'], ['TRC', 'Treasury Metals Inc'], ['TRI', 'Tribona AB'], ['TRMK', 'TMK PAO'], ['TRN', 'Terna SpA'], ['TROW', 'T. Rowe Price Group Inc'], ['TRP', 'Teraplast SA'], ['TRS', 'TC Energy Corp'], ['TRV', 'The Travelers Companies Inc'], ['TSCO', 'Tesco PLC'], ['TSU', 'Transeuro Energy Corp'], ['TT', 'TT Hellenic Postbank SA'], ['TTM', 'Tata Motors Ltd'], ['TTWO', 'Take-Two Interactive Software Inc'], ['TV', 'Tech Value SpA'], ['TXN', 'Tax-Net SA'], ['TXT', 'Textron Inc'], ['UAA', 'Under Armour Inc'], ['UBS', 'UBM Development AG'], ['UFI', 'Unifast Finance & Investments PCL'], ['UGI', 'Sugi Holdings Co Ltd'], ['UIS', 'Unisys Corp'], ['UL', 'Unibail-Rodamco-Westfield'], ['ULTA', 'Ulta Beauty Inc'], ['UN', 'Unilever NV'], ['UNH', 'UnitedHealth Group Inc'], ['UNIR', 'Unieuro SpA'], ['UNM', 'UCL Resources Limited'], ['UNP', 'Union Pacific Corp'], ['UPS', 'United Parcel Service Inc'], ['URBN', 'Urbanex SA'], ['USAK', 'Usak Seramik Sanayii AS'], ['USAS', 'USAS Yatirimlar Holdings AS'], ['USB', 'USB Bank PLC'], ['VALE', 'Vale SA'], ['VAR', 'Varsav Game Studios SA'], ['VET', 'Vectren Corp'], ['VFC', 'VF Corp'], ['VFF', 'Vereinigte Filzfabriken AG'], ['VGR', 'Vector Group Ltd'], ['VIV', 'Vivendi SA'], ['VIVO', 'Vivoline Medical AB'], ['VMC', 'Vulcan Materials Co'], ['VOD', 'Vodafone Group PLC'], ['VRSK', 'Verisk Analytics Inc'], ['VRTX', 'Vertex Pharmaceuticals Inc'], ['VSEC', 'Vindico Group AB'], ['VZ', 'Verizon Communications Inc'], ['WAB', 'Westinghouse Air Brake Technologies Corp'], ['WAL', 'Walter Energy Inc'], ['WBA', 'Walgreens Boots Alliance Inc'], ['WBC', 'Westpac Banking Corp'], ['WCN', 'Waste Connections Inc'], ['WDC', 'Western Digital Corp'], ['WEN', 'Wentworth Resources PLC'], ['WFC', 'Wells Fargo & Co'], ['WHR', 'Whirlpool Corp'], ['WM', 'Waste Management Inc'], ['WMB', 'Williams Companies Inc'], ['WMT', 'Walmart Inc'], ['WPC', 'ZEAG Energie AG'], ['WPP', 'Worldpay Group PLC'], ['WRI', 'Washington REIT'], ['WSO', 'Watsco Inc'], ['WST', 'Wistil SA'], ['WTI', 'Winsome Textile Industries Ltd'], ['WYNN', 'Wynn Resorts Ltd'], ['XLNX', 'Xilinx Inc'], ['XOM', 'Xoom Corp'], ['XPO', 'XPO Logistics SA'], ['XRX', 'Xerox Holdings Corp'], ['YPF', 'YPF SA'], ['YUM', 'SHK Hong Kong Industries Ltd'], ['ZBH', 'Zimmer Biomet Holdings Inc'],['A', 'Agronomia SpA'], ['AAL', 'Agro Allianz Ltd'], ['AAN', 'AAG Energy Holdings Ltd'], ['AAP', 'Azure Health Technology Ltd'], ['AAPL', 'Apple Inc'], ['ABB', 'AB Biotics'], ['ABC', 'ABC Data SA'], ['ABG', 'Abengoa SA'], ['ABM', 'ABM Solid SA'], ['ABR', 'Barrick Gold Corp'], ['ABT', 'Abbott Laboratories'], ['ACC', 'ACC Ltd'], ['ACH', 'Achterbahn AG'], ['ACM', 'AdCityMedia AB'], ['ACN', 'Aspocomp Group PLC'], ['ACT', 'Actelion Ltd'], ['ADBE', 'Adobe Inc'], ['ADC', 'AdCapital AG'], ['ADI', 'Analog Devices Inc'], ['ADM', 'Admiral Boats SA'], ['ADP', 'AÃ©roports de Paris SA'], ['ADS', 'adidas AG'], ['ADSK', 'Autodesk Inc'], ['AED', 'AEDES SA'], ['AEG', 'Acegas-APS'], ['AEGN', 'Aegean Airlines SA'], ['AEL', 'Arshad Energy Ltd'], ['AEM', 'Agnico Eagle Mines Ltd'], ['AEO', 'Atmos Energy Corp'], ['AEP', 'American Electric Power Co Inc'], ['AER', 'Aeroteh SA'], ['AFG', 'AF Gruppen ASA'], ['AFL', 'Aflac Inc'], ['AGM', 'Agroma SA'], ['AGN', 'Aegon NV'], ['AGO', 'Agora SA'], ['AGX', 'Agennix AG'], ['AHC', 'Hess Corp'], ['AIG', 'American International Group Inc'], ['AIN', 'ABS Investment SA'], ['AIR', 'Airbus SE'], ['AIT', 'Aiton Caldwell SA'], ['AKAM', 'Akamai Technologies Inc'], ['ALB', 'Corporacion Financiera Alba SA'], ['ALCO', 'Alco Hellas SA'], ['ALE', 'Alps Alpine Co Ltd'], ['ALG', 'ALBIS Leasing AG'], ['ALGN', 'Align Technology Inc'], ['ALK', 'Alaska Air Group Inc'], ['ALL', 'Ailleron SA'], ['ALO', 'Alstom SA'], ['ALV', 'Allianz SE'], ['ALX', 'Alexanderwerk AG'], ['ALXN', 'Alexion Pharmaceuticals Inc'], ['AMAT', 'Applied Materials Inc'], ['AMED', 'Amedeo Resources PLC'], ['AMG', 'Advanced Metallurgical Group NV'], ['AMGN', 'Amgen Inc'], ['AMP', 'AMP Ltd'], ['AMS', 'Amadeus IT Group SA'], ['AMZN', 'Amazon.com Inc'], ['ANF', 'Abercrombie & Fitch Co'], ['ANTM', 'AN Textile Mills Ltd'], ['AON', 'Aozora Bank Ltd'], ['AOS', 'Amdocs Ltd'], ['APA', 'Apache Corp'], ['APH', 'Ampio Pharmaceuticals Inc'], ['APT', 'Apator SA'], ['ARE', 'AIRE GmbH & Co KGaA'], ['AROC', 'AroCell AB'], ['ARTW', 'Aroundtown SA'], ['ARW', 'Arrow Electronics Inc'], ['ASB', 'Asbisc Enterprises PLC'], ['ASML', 'ASML Holding NV'], ['ASR', 'A.S. Roma SpA'], ['ASX', 'Astra Agro Lestari Tbk'], ['ATI', 'Actia group'], ['ATO', 'ATON-High Technology SA'], ['ATR', 'Athene Holding Ltd'], ['ATT', 'AT&T Inc'], ['ATVI', 'Activision Blizzard Inc'], ['AU', 'Anglogold Ashanti Ltd'], ['AUB', 'Aubay'], ['AVA', 'Ascopiave SpA'], ['AVB', 'Asiatravel.com Holdings Ltd'], ['AVD', 'Avid Technology Inc'], ['AVT', 'Avenir Telecom'], ['AVX', 'Advanced Energy Industries Inc'], ['AWK', 'American Water Works Co Inc'], ['AWR', 'Aware Inc'], ['AXE', "Alexander's Inc"], ['AXP', 'Alexion Pharmaceuticals Inc'], ['AXS', 'Abaxis Inc'], ['AZN', 'AstraZeneca PLC'], ['AZO', 'AstroNova Inc'], ['B', 'Bastogi SPA'], ['BA', 'Boeing Co'], ['BABB', 'Bank Permata Tbk'], ['BAC', 'BACD SA'], ['BAK', 'Bakalland SA'], ['BAM', 'Brookfield Asset Management Inc'], ['BAX', 'Baxter International Inc'], ['BB', 'BB Biotech AG'], ['BBD', 'BBI Development SA'], ['BBL', 'Bharat Bijlee Ltd'], ['BBQ', 'Beter Bed Holding'], ['BBW', 'Benchmark Botanics Inc'], ['BBY', 'Bed Bath & Beyond Inc'], ['BC', 'Bank Cler AG'], ['BCO', 'Boeing Co'], ['BDL', 'Baron de Ley SA'], ['BDX', 'Becton, Dickinson and Co'], ['BEM', 'Materion Corp'], ['BEN', 'Beneteau SA'], ['BEP', 'Biomass Energy Project SA'], ['BG', 'Bawag Group AG'], ['BGS', 'BGS Energy Plus AS'], ['BHP', 'BHP Group Ltd'], ['BIG', 'Bigben Interactive'], ['BIIB', 'Biogen Inc'], ['BIO', 'Biofarm SA'], ['BIP', 'Bio Planet SA'], ['BJI', 'Datang International Power Generation Co Ltd'], ['BKNG', 'Booking Holdings Inc'], ['BLK', 'BlackRock Inc'], ['BLKB', 'Basellandschaftliche Kantonalbank'], ['BMA', 'Byggma ASA'], ['BMI', 'BP Prudhoe Bay Royalty Trust'], ['BMO', 'Moninger Holding AG'], ['BMY', 'Bristol-Myers Squibb Company'], ['BNS', 'Beni Stabili SpA SIIQ'], ['BOCH', 'Bank of Cyprus Holdings PLC'], ['BOH', 'BGI Group AD'], ['BP', 'BP PLC'], ['BRO', 'Browar Czarnkow SA'], ['BSX', 'Boston Scientific Corp'], ['BTG', 'Blue Tax Group SA'], ['BTI', 'Algernon Pharmaceuticals Inc'], ['BTQ', 'BT Group PLC'], ['BVN', 'Buenaventura Mining Co Inc'], ['BX', 'Blackstone Group Inc'], ['BXP', 'Aspen Insurance Holdings Ltd'], ['C', 'Citigroup Inc'], ['CAG', 'CAG Group AB'], ['CAI', 'CA Immobilien Anlagen AG'], ['CAJ', 'Casino Guichard-Perrachon SA'], ['CAL', 'Camden Property Trust'], ['CAMP', 'NCS Nordic Camping & Sports AB'], ['CAR', 'Carbures Europe SA'], ['CAT', 'Caterpillar Inc'], ['CAX', 'Callinex Mines Inc'], ['CB', 'Credito Bergamasco'], ['CBB', 'Cleanbnb SpA'], ['CBD', 'Cannabis Poland SA'], ['CBT', 'Cabot Corp'], ['CBU', 'CST Brands Inc'], ['CBZ', 'Capral Ltd'], ['CCI', 'Circor International Inc'], ['CCJ', 'Cincinnati Financial Corp'], ['CCK', 'Coca-Cola Hellenic Bottling Company S.A.'], ['CCL', 'CCL Products (India) Ltd'], ['CCM', 'Crescent Cotton Mills Ltd'], ['CDR', 'CD Projekt SA'], ['CE', 'Cortus Energy AB'], ['CEA', 'Friwo AG'], ['CENX', 'Century Aluminum Co'], ['CERN', 'Cerner Corp'], ['CEVA', 'CEVA Logistics AG'], ['CFR', 'Cie Financiere Richemont SA'], ['CFX', 'Capital One Financial Corp'], ['CGA', 'Century Global Commodities Corp'], ['CHD', 'Church & Dwight Co Inc'], ['CHE', 'China Huarong Asset Management Co Ltd'], ['CHH', 'CK Infrastructure Holdings Ltd'], ['CHKP', 'Check Point Software Technologies Ltd'], ['CHL', 'China Life Insurance Co Ltd'], ['CHMG', 'Chipotle Mexican Grill Inc'], ['CHT', 'Charm Communications Inc'], ['CHTR', 'Charter Communications Inc'], ['CHU', 'China Petroleum & Chemical Corp'], ['CIA', 'China Eastern Airlines Corp Ltd'], ['CIG', 'Carel Industries SpA'], ['CIR', 'CIR Compagnie Industriali Riunite SpA'], ['CIT', 'Cintas Corp'], ['CKH', 'CK Hutchison Holdings Ltd'], ['CL', 'Colgate-Palmolive Co'], ['CLB', 'Core Laboratories NV'], ['CLF', 'Caleffi SpA'], ['CLH', 'Cardinal Health Inc'], ['CLI', "Centrale del Latte d'Italia SpA"], ['CLR', 'CLERHP Estructuras SA'], ['CLS', 'Calesco SA'], ['CMC', 'COMECO SA'], ['CMCSA', 'Comcast Corp'], ['CMD', 'Computec Media AG'], ['CME', 'Central European Media Enterprises Ltd'], ['CMG', 'Kesselrun Resources Ltd'], ['CMI', 'CM International SA'], ['CMP', 'Cematrix Corp'], ['CMS', 'Commercial Metals Co'], ['CMT', 'Cautivo Mining Inc'], ['CNA', 'Calgon Carbon Corp'], ['CNC', 'Changshouhua Food Co Ltd'], ['CNO', 'China Railway Group Ltd'], ['CNP', 'CNP Assurances'], ['CNR', 'Centron Telecom International Holding Ltd'], ['CNS', 'China Steel Corp'], ['CNTY', 'Century Casinos Inc'], ['COG', 'Cogeco Communications Inc'], ['COLB', 'Convest SA'], ['CONN', 'Connect Group NV'], ['COP', 'CompuGroup Medical SE'], ['COR', 'Conwert Immobilien Invest SE'], ['CORE', 'Coreo AG'], ['COST', 'Colony Sarhad Textile Mills Ltd'], ['CPA', 'Capital Partners SA'], ['CPF', 'CITIC Ltd'], ['CPG', 'Capital Park SA'], ['CPK', 'Capcom Co Ltd'], ['CPS', 'Cyfrowy Polsat SA'], ['CRI', 'Chargeurs SA'], ['CRL', 'Carel Industries SpA'], ['CRS', 'Copernicus Securities SA'], ['CS', 'AXA SA'], ['CSCO', 'Cisco Systems Inc'], ['CSV', 'Corporacion Financiera Alba SA'], ['CSX', 'Credit Suisse Group AG'], ['CTAS', 'Cintas Corp'], ['CTG', 'Cube ITG SA'], ['CTL', 'Creative Technology Ltd'], ['CTO', 'Costco Wholesale Corp'], ['CTS', 'AVIC International Holdings Ltd'], ['CTSH', 'Cognizant Technology Solutions Corp'], ['CTXS', 'Citrix Systems Inc'], ['CUB', 'City Union Bank Ltd'], ['CUZ', 'Culp Inc'], ['CVA', 'Cleveland-Cliffs Inc'], ['CVE', 'Cliffmont Resources Ltd'], ['CVR', 'PCM Inc'], ['CVS', 'CVS Health Corp'], ['CVV', 'China Coal Energy Co Ltd'], ['CVX', 'Chevron Corp'], ['CW', 'Crimsonwing PLC'], ['CWT', 'Curtiss-Wright Corp'], ['CYAN', 'CYAN Ltd'], ['CYBE', 'Cybercom Group AB'], ['DAC', 'Danish Aerospace Co AS'], ['DAL', 'Dahlbusch AG'], ['DAN', 'Dane-Elec Memory SA'], ['DAR', 'Datron AG'], ['DBD', 'Diebold Nixdorf Inc'], ['DBI', 'Dr Bock Industries AG'], ['DCI', 'DC Infotech And Communication Ltd'], ['DCO', 'Deere & Co'], ['DD', 'E.I. du Pont de Nemours & Co'], ['DDD', '3D Systems Corp'], ['DE', 'D.E. Master Blenders 1753 N.V.'], ['DEV', 'Devoran SA'], ['DHR', 'B&G Foods Inc'], ['DIN', 'Damf Inwestycje SA'], ['DIOD', 'DIOD Maker of Eco-Friendly Equipment and Nutrition'], ['DIS', "d'Amico International Shipping SA"], ['DISH', 'DISH Network Corp'], ['DLB', 'DLB Anlageservice AG'], ['DLR', 'Dalradian Resources Inc'], ['DLTR', 'Dollar Tree Inc'], ['DLX', 'Delignit AG'], ['DMJ', 'DynaCERT Inc'], ['DOV', 'Dovalues SpA'], ['DOX', 'Doxee SpA'], ['DPZ', "Domino's Pizza Inc"], ['DRD', 'DRDGold Ltd'], ['DRE', 'Drewex SA'], ['DRH', 'Droneshield Ltd'], ['DRI', '1&1 Drillisch AG'], ['DRU', 'Kujawskie Zaklady Poligraficzne DRUK-PAK SA'], ['DTE', 'Deutsche Telekom AG'], ['DTP', 'DTP SA'], ['DTV', 'F-Secure Corp'], ['DXC', 'Antrim Energy Inc'], ['EA', 'Electronic Arts Inc'], ['EAT', 'Amrest Holdings SE'], ['EBAY', 'eBay Inc'], ['EBK', 'EnBW Energie Baden-Wuerttemberg AG'], ['EBR', 'Metal Tiger PLC'], ['EBS', 'Elbstein AG'], ['ECL', 'Easycall pl SA'], ['EDN', 'Edison SA'], ['EFX', 'EFIX Dom Maklerski SA'], ['EGO', 'EastGroup Properties Inc'], ['EIX', 'Edison International'], ['EL', 'Essilorluxottica'], ['ELP', 'Cia Paranaense De Energia Copel'], ['ELY', 'Electro-Sensors Inc'], ['EMR', 'Emerson Electric Co'], ['ENB', 'Ensign Energy Services Inc'], ['ENV', 'ENAV SpA'], ['EPD', 'Energomontaz-Poludnie SA'], ['EPR', 'Ekopark SA'], ['EQNR', 'Equinor ASA'], ['EQR', 'Equity Residential'], ['EQT', 'EQM Midstream Partners LP'], ['ERF', 'Eurofins Scientific SE'], ['ES', 'Esso SAF'], ['ESP', 'Esperite NV'], ['ESS', 'ES-System SA'], ['ETH', 'Ethan Allen Interiors Inc'], ['ETN', 'Etteplan Oyj'], ['ETR', 'Equitier SA'], ['EVI', 'China Everbright Ltd'], ['EVK', 'Evonik Industries AG'], ['EW', 'Edwards Lifesciences Corp'], ['EXC', 'Exceet Group SA'], ['EXK', 'Exact Sciences Corp'], ['EXP', 'Essex Property Trust Inc'], ['EXPE', 'Expedia Group Inc'], ['EXR', 'EXOR NV'], ['F', 'Ford Motor Co'], ['FARO', 'Farstad Shipping ASA'], ['FAST', 'Fastenal Co'], ['FCF', 'First Commonwealth Financial Corp'], ['FCX', 'Freeport-McMoRan Inc'], ['FDX', 'FedEx Corp'], ['FF', 'Fine Foods & Pharmaceuticals NTM SpA'], ['FISV', 'Fiserv Inc'], ['FIX', 'Fixstars Corp'], ['FLEX', 'FleXos SA'], ['FLO', 'Groupe Flo SA'], ['FLS', 'FLSmidth & Co. A/S'], ['FMNB', 'Leonardo SpA'], ['FMS', 'First Majestic Silver Corp'], ['FNV', 'Franco-Nevada Corp'], ['FOR', 'Forever Entertainment SA'], ['FRO', 'Ferro SA'], ['FSI', 'First Shanghai Investments Ltd'], ['FSLR', 'First Solar Inc'], ['FTI', 'Filtronic PLC'], ['FTK', 'FinTech Group AG'], ['FUL', 'FullSix SpA'], ['FUN', 'Funespana SA'], ['G', 'Assicurazioni Generali'], ['GBI', 'Genocea Biosciences Inc'], ['GCO', 'Grupo Catalana Occidente SA'], ['GE', 'Gefran SpA'], ['GEL', 'GEL SpA'], ['GEO', 'Geoinvent SA'], ['GFF', 'Griffon Corp'], ['GFI', 'GFI Informatique SA'], ['GGG', 'Perusahaan Rokok Tjap Gudang Garam Tbk'], ['GHC', 'Garofalo Health Care SpA'], ['GHL', 'Gindalbie Metals Ltd'], ['GHM', 'Grand Harbour Marina PLC'], ['GIB', 'GSW Immobilien AG'], ['GIL', 'DMG Mori Aktiengesellschaft'], ['GILD', 'Gilead Sciences Inc'], ['GIS', 'General Mills Inc'], ['GKO', 'GlycoMimetics Inc'], ['GLNG', 'Concern Galnaftogaz PJSC'], ['GLW', 'Corning Inc'], ['GMAB', 'Genmab A/S'], ['GME', 'Geratherm Medical AG'], ['GNW', 'Genesee & Wyoming Inc'], ['GOGL', 'Golden Ocean Group Ltd'], ['GOLD', 'Lappland Goldminers AB'], ['GOOGL', 'Alphabet Inc'], ['GPI', 'GPI SpA'], ['GPK', 'Golden Ocean Group Ltd'], ['GPX', 'Gasporox AB'], ['GRC', 'Grupa RECYKL SA'], ['GS', 'Goldman Sachs Group Inc'], ['GSB', 'Goldman Sachs BDC Inc'], ['GSH', 'Bourbon Corp'], ['GSK', 'GlaxoSmithKline PLC'], ['GT', 'Goodyear Tire & Rubber Co'], ['GTN', 'Getin Holding SA'], ['GTS', 'Geotrans SA'], ['GTT', 'Gaztransport et technigaz SA'], ['GTY', 'Gateway Real Estate AG'], ['GV', 'Genomic Vision SA'], ['H', 'Hi Real SPA'], ['HAE', 'HAEMATO AG'], ['HAL', 'HAL Trust'], ['HAS', 'Hasbro Inc'], ['HBI', 'Harvard Bioscience Inc'], ['HBM', 'HORNBACH Baumarkt AG'], ['HBNC', "Hudson's Bay Co"], ['HBP', 'Helix BioPharma Corp'], ['HCI', 'HC Group Inc'], ['HEI', 'HeidelbergCement AG'], ['HES', 'H E S Beheer NV'], ['HHS', 'ArtStor AG'], ['HI', 'Health Italia SpA'], ['HIL', 'HIL Ltd'], ['HJO', 'Hardy Oil & Gas PLC'], ['HL', 'Hecla Mining Co'], ['HLX', 'Heartland Express Inc'], ['HMC', 'Harmonic Inc'], ['HOG', 'Harley-Davidson Inc'], ['HOLX', 'Hologic Inc'], ['HON', 'Honeywell International Inc'], ['HPB', 'Hrvatska Postanska Banka DD'], ['HPP', 'Hauppauge Digital'], ['HPQ', 'HP Inc'], ['HRB', 'H&R Block Inc'], ['HRC', 'Grupa HRC SA'], ['HRL', 'Hormel Foods Corp'], ['HSIC', 'Henry Schein Inc'], ['HST', 'Hutter und Schrantz Stahlbau AG'], ['HT', 'Hrvatski Telekom DD'], ['HTH', 'Hutchinson Technology Inc'], ['HUM', 'Humana AB'], ['HWC', 'Heiwa Corp'], ['HXL', 'Hexcel Corp'], ['I93', 'Indorama Ventures PCL'], ['IAG', 'IA Industriarmatur Group AB'], ['IBM', 'International Business Machines Corp'], ['ICE', 'ICE Concept SA'], ['IDA', 'Idea Bank SA'], ['IDT', 'Indata SA'], ['IDXX', 'IDEXX Laboratories Inc'], ['IEP', 'IEP Invest NV'], ['IEX', 'IEX Group NV'], ['IFF', 'International Flavors & Fragrances Inc'], ['IGT', 'Igoria Trade SA'], ['IHG', 'Island Hotels Group Holdings PLC'], ['ILMN', 'Illumina Inc'], ['IMO', 'Imperial Oil Ltd'], ['INDB', 'Indel B SpA'], ['INFO', 'Info Yatirim AS'], ['INFY', 'Infosys Ltd'], ['INGR', 'Ingra DD'], ['INS', 'Indos SA'], ['INT', 'Internity SA'], ['INTC', 'Intel Corp'], ['INTU', 'Intuit Inc'], ['IP', 'Interpump Group SpA'], ['IRBT', 'iRobot Corp'], ['IRM', 'Isramco Inc'], ['ISRG', 'Intuitive Surgical Inc'], ['IT', 'Italcementi SpA'], ['ITI', 'ITI Ltd'], ['ITP', 'Indocement Tunggal Prakarsa Tbk'], ['ITW', 'Illinois Tool Works Inc'], ['JAN', 'Jantar Development SA'], ['JBHT', 'JB Hunt Transport Services Inc'], ['JBL', 'Jabil Inc'], ['JBT', 'John Bean Technologies Corp'], ['JNJ', 'Johnson & Johnson'], ['JPM', 'JPMorgan Chase & Co'], ['K', 'Kellogg Co'], ['KAR', 'Karnov Group AB'], ['KBH', 'KB Home'], ['KDP', 'Keurig Dr Pepper Inc'], ['KEM', 'Kemira Oyj'], ['KEY', 'KeyCorp'], ['KFY', 'Korn Ferry'], ['KLAC', 'KLA Corp'], ['KMB', 'Komercijalna Banka AD Skopje'], ['KNDI', 'Kandi Technologies Group Inc'], ['KO', 'Coca-Cola Co'], ['KOP', 'Korea Electric Power Corp'], ['KRC', 'Kilroy Realty Corp'], ['LAZ', 'La-Z-Boy Inc'], ['LDB', 'H. Lundbeck A/S'], ['LEG', 'LEG Immobilien AG'], ['LEN', 'Lena Lighting SA'], ['LII', 'Fortress Global Enterprises Inc'], ['LIN', 'Linde PLC'], ['LLY', 'Eli Lilly and Co'], ['LMT', 'Lockheed Martin Corp'], ['LNN', 'Lennar Corp'], ['LPL', 'Lalpir Power Ltd'], ['LRCX', 'Lam Research Corp'], ['LSI', 'CK Life Sciences International Holdings Inc'], ['LTC', 'Linear Technology Corp'], ['LVS', 'Las Vegas Sands Corp'], ['MA', 'Mastercard Inc'], ['MAC', 'Machelen/Le Certificat Foncier'], ['MAN', 'Josef Manner & Comp AG'], ['MAR', 'Marriott International Inc'], ['MAS', 'MAS Real Estate Inc'], ['MASI', 'Masi Agricola SpA'], ['MAT', 'Matse Holding AB'], ['MBJ', 'MBIA Inc'], ['MCD', 'Mallinckrodt PLC'], ['MCF', 'McEwen Mining-Minera Andes Acquisition Corp'], ['MCHP', 'Microchip Technology Inc'], ['MCK', 'MC-link SpA'], ['MCY', 'Mercury Systems Inc'], ['MDLZ', 'Mondelez International Inc'], ['MDP', 'MEDCAMP SA'], ['MDT', 'Medtronic PLC'], ['MED', 'Medartis Holding AG'], ['MEET', 'Meetic'], ['MEI', 'Merit Invest SA'], ['MFNC', 'Century Entertainment International Holdings Ltd'], ['MG', 'Magna International Inc'], ['MGA', 'Magna International Inc'], ['MGJ', 'Morgan Advanced Materials PLC'], ['MGM', 'Capricorn Metals Ltd'], ['MHH', 'Medisana AG'], ['MHT', 'Manhattan Associates Inc'], ['MIB', 'Mitsubishi Logistics Corp'], ['MIC', 'Integrated Green Energy Solutions Ltd'], ['MJF', 'Myers Industries Inc'], ['MJP', 'Morningstar Japan KK'], ['MKC', 'AAC Clyde Space AB'], ['MKL', 'Atea ASA'], ['MKS', 'Merko Ehitus AS'], ['MKV', 'Markel Corp'], ['MLG', 'MLP Group SA'], ['MLHR', 'Modra Linija Holding DD'], ['MLI', 'Mesa Laboratories Inc'], ['MLM', 'Molmed SpA'], ['MLP', 'Milkpol SA'], ['MMC', 'Inmet Mining Corporation'], ['MMM', '3M Co'], ['MMP', 'MMP Industries Ltd'], ['MMS', 'Mapfre Middlesea PLC'], ['MNST', 'Monster Beverage Corp'], ['MO', 'Altria Group Inc'], ['MOD', 'Modecom SA'], ['MOH', 'LVMH Moet Hennessy Louis Vuitton SE'], ['MOR', 'MorphoSys AG'], ['MOS', 'Orange Belgium SA'], ['MOV', 'Moncler SpA'], ['MPB', 'Martin Midstream Partners LP'], ['MPW', 'ManpowerGroup Inc'], ['MPX', 'Mitsubishi Paper Mills Ltd'], ['MRK', 'Marka SA'], ['MRO', 'MOSENERGO'], ['MS', 'Mediaset SpA'], ['MSA', 'Mew SA'], ['MSFT', 'Microsoft Corp'], ['MSI', 'Mitsui Chemicals Inc'], ['MSM', 'Massmedica SA'], ['MSN', 'Marsh & McLennan Companies Inc'], ['MST', 'Mostostal-Export S.A.'], ['MT', 'ArcelorMittal SA'], ['MTB', 'Montebalito SA'], ['MTD', 'Meito Transportation Co Ltd'], ['MTG', 'Meier Tobler Group AG'], ['MTL', 'ArcelorMittal SA'], ['MTW', 'Matsui Securities Co Ltd'], ['MTX', 'MTU Aero Engines AG'], ['MTZ', 'M&T Bank Corp'], ['MU', 'Micron Technology Inc'], ['MXC', 'CinemaxX AG'], ['MXIM', 'Maxim Integrated Products Inc'], ['MYL', 'Mylan NV'], ['NDAQ', 'Nasdaq Inc'], ['NEE', 'NextEra Energy Inc'], ['NEM', 'Nemesis Construction PLC'], ['NEU', 'Compagnie Financiere de Neufcour SA'], ['NFG', 'National Fuel Gas Co'], ['NFLX', 'Netflix Inc'], ['NGD', 'Newmarket Gold Inc'], ['NGG', 'No Gravity Games SA'], ['NGS', 'NGS Group AB'], ['NICE', 'Nice SpA'], ['NICK', 'Nickel Mountain Resources AB'], ['NJR', 'New Japan Radio Co Ltd'], ['NKE', 'Nike Inc'], ['NKSH', 'Nizhnekamskshina PJSC'], ['NMR', 'Nova Measuring Instruments Ltd'], ['NOC', 'Northam Platinum Ltd'], ['NOV', 'Novina SA'], ['NPK', 'Northland Resources SE'], ['NPS', 'Nippon Steel Corp'], ['NR', 'Nova Re SIIQ SpA'], ['NRG', 'Nrj Group'], ['NRP', 'NEPI Rockcastle PLC'], ['NSC', 'Nissan Chemical Corp'], ['NSP', 'Neosperience SpA'], ['NTES', 'NetEase Inc'], ['NTGR', 'Net Trading Group NTG AB'], ['NUE', 'Nuevolution AB'], ['NUS', 'Nu Skin Enterprises Inc'], ['NUVA', 'Noratis AG'], ['NVDA', 'NVIDIA Corp'], ['NWL', 'Newell Brands Inc'], ['NXPI', 'NXP Semiconductors NV'], ['NYT', 'New York Times Co'], ['OCC', 'Optical Cable Corp'], ['OCN', 'Omnicom Group Inc'], ['ODC', 'Oil-Dri Corp of America'], ['ODP', 'Office Depot Inc'], ['OFC', 'Oriflame Cosmetics AB'], ['OII', 'Oceaneering International Inc'], ['OIS', 'Oil Search Ltd'], ['OLN', 'Olin Corp'], ['ON', 'Bio-on SpA'], ['ORA', 'Orange SA'], ['ORAN', 'Oranzerii Hamzali AD'], ['ORCL', 'CPI FIM SA'], ['ORI', 'OneRay Investment SA'], ['ORLY', "O'Reilly Automotive Inc"], ['ORN', 'Orion Investment SA'], ['OSB', 'Old Second Bancorp Inc'], ['OSK', 'Japan Exchange Group Inc'], ['PAA', 'Pan American Silver Corp'], ['PAC', 'Papeles y Cartones de Europa SA'], ['PAG', 'Preos Real Estate AG'], ['PAYX', 'Paychex Inc'], ['PCAR', 'PACCAR Inc'], ['PCG', 'PC Guard SA'], ['PDM', 'Piedmont Natural Gas Co Inc'], ['PEG', 'Platino Energy Corp'], ['PEL', 'Banca Popolare dell′Etruria e del Lazio'], ['PEP', 'PepsiCo Inc'], ['PFE', 'Pfizer Inc'], ['PFG', 'Poltrona Frau'], ['PFS', 'Perficient Inc'], ['PG', 'PG PLC'], ['PGC', 'Poligraf S Faustino SpA'], ['PHA', 'Pharmagest Interactive'], ['PHI', 'Phase Holographic Imaging PHI AB'], ['PHM', 'Pharma Mar SA'], ['PKE', 'Park Aerospace Corp'], ['PKG', 'PKC Group PLC'], ['PKX', 'POSCO'], ['PLT', 'Parmalat SpA'], ['PM', 'Philip Morris International Inc'], ['PNC', 'Pritish Nandy Communications Ltd'], ['PNW', 'Plantwear SA'], ['POL', 'Pakistan Oilfields Ltd'], ['POR', 'Portobello SpA'], ['PPC', 'PlastPack Co SA'], ['PPL', 'Pakistan Petroleum Ltd'], ['PRI', 'Pragma Inkaso SA'], ['PRIM', 'Primorsk Shipping Corp'], ['PRK', 'ProAssurance Corp'], ['PRO', 'Banca Profilo SPA'], ['PSA', 'Portale Sardegna SpA'], ['PSMT', 'Pervyy Stroitelno-Montazhnyy Trest AO'], ['PSO', 'Pakistan State Oil Co Ltd'], ['PTC', 'Pakistan Telecommunication Co Ltd'], ['PTR', 'Pattern SpA'], ['PUK', 'PRD Energy Inc'], ['RE', 'Colas SA'], ['RES', 'Claude Resources Inc'], ['RF', 'Eurazeo SE'], ['RIO', 'Bodegas Riojanas SA'], ['RJF', 'Laboratorio Reig Jofre SA'], ['SAN', 'Banco Santander SA'], ['SAR', 'Gr. Sarantis SA'], ['SBA', 'Dockwise Ltd.'], ['SCHW', 'Charles Schwab Corp'], ['SJW', 'Ambienthesis SpA'], ['SMG', 'MagnaChip Semiconductor Corp'], ['SNP', 'OMV Petrom SA'], ['SPR', 'Axel Springer SE'], ['SSB', 'Hallmark Financial Services Inc'], ['STL', 'Equinor ASA'], ['STZ', 'Constellation Brands Inc'], ['T', 'AT&T Inc'], ['TAC', 'Ctac NV'], ['TATT', 'Attica Bank SA'], ['TCF', 'CareFusion Corp'], ['TEL', 'C.N.T.E.E. Transelectrica SA'], ['TER', 'Pani Teresa Medica SA'], ['TEX', 'Castellum AB'], ['TGT', '11 88 0 Solutions AG'], ['TOWN', 'Aroundtown SA'], ['UG', 'Peugeot SA'], ['ULH', 'Mercator Minerals Ltd'], ['VALU', 'Gabelli Value For Italy SpA'], ['VIV', 'Euroinvestment SA'], ['WILC', 'Fabege AB'], ['WINA', 'Diebold Nixdorf AG'], ['WRE', 'Energy Environment Solutions Spolka Akcyjna'], ['WTT', 'Marenica Energy Ltd'], ['XOM', 'Exxon Mobil Corp'], ['XRAY', 'Apteryx Imaging Inc'], ['v', 'CMC Ltd']]

def check_symbol (symbol):
    link = "https://www.gurufocus.com/stock/" + symbol +"/summary"
    page = requests.get (link)
    soup = BeautifulSoup (page.content, "html.parser")
    table = soup.find_all("h1")
    for i in table:
        if "Stock Not Found" in i.text: return False
    table = soup.find_all("a")
    check = [False, False, False]
    for i in table:
        if "Premium Membership" in i.text: return False
        if "Financial Strength" in i.text: check[0] = True
        if "Profitability Rank" in i.text: check[1] = True
        if "Valuation Rank" in i.text: check[2] = True
        if False not in check: return True
    return False

checked = []
stocks = []
for j in range (340,485,1):
    link = "https://www.gurufocus.com/stock_list.php?m_country[]=_Europe&m_country[]=DEU&m_country[]=FRA&m_country[]" \
           "=POL&m_country[]=RUS&m_country[]=SWE&m_country[]=TUR&m_country[]=BIH&m_country[]=ITA&m_country[]" \
           "=LUX&m_country[]=CHE&m_country[]=BEL&m_country[]=GRC&m_country[]=NOR&m_country[]=ESP&m_country[]" \
           "=DNK&m_country[]=BGR&m_country[]=NLD&m_country[]=ROU&m_country[]=FIN&m_country[]=SRB&m_country[]" \
           "=AUT&m_country[]=HRV&m_country[]=PRT&m_country[]=SVK&m_country[]=CYP&m_country[]=MKD&m_country[]" \
           "=SVN&m_country[]=UKR&m_country[]=HUN&m_country[]=LTU&m_country[]=LVA&m_country[]=MLT&m_country[]" \
           "=ISL&m_country[]=EST&m_country[]=CZE&m_country[]=_India&m_country[]=IND&m_country[]=PAK&sort=company&p=" + str(j) + "&n=100"
    page = requests.get (link)
    soup = BeautifulSoup (page.content, "html.parser")

    table = soup.find_all("td", class_="text")
    for i in range(0,len(table),2):
        idx = table[i].a.text.find(".")
        symbol = table[i].a.text[0:idx]
        name = table[i+1].a.text
        #print ("Working on", symbol, name)
        if symbol not in checked:
            bool = check_symbol (symbol)
            if bool == True:
                stocks.append([symbol, name])
                print ("Found Stock: ", symbol, name)
            checked.append(symbol)
    print ("Check Page",j)
    stocks.sort()
    print (stocks)
stocks.sort()
print ("Final: ", stocks)






